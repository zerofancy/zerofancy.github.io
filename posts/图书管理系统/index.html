<!DOCTYPE html>
<html><head>
<title>图书管理系统</title>
<meta charset="utf-8"/>
<meta content="IE=edge" name="X-UA-Compatible"/>
<meta content="" name="google-site-verification"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="翻出了以前写的C++作业，图书管理系统，虽然挺简单的，但留下纪念下吧。" name="description"/>
<meta content="webkit" name="renderer"/>
<meta content="#ffffff" name="theme-color"/>
<meta content="图书管理系统" property="og:title"/>
<meta content="翻出了以前写的C++作业，图书管理系统，虽然挺简单的，但留下纪念下吧。" property="og:description"/>
<meta content="article" property="og:type"/>
<meta content="https://ntutn.top/posts/%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" property="og:url"/><meta content="posts" property="article:section"/>
<meta content="2019-04-13T03:11:37+08:00" property="article:published_time"/>
<meta content="2019-04-13T03:11:37+08:00" property="article:modified_time"/><meta content="归零幻想" property="og:site_name"/>
<link href="//images.ntutn.top/favicon.ico" rel="icon"/>
<script src="/js/toc.js"></script>
<link href="/vendor/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/scss/journal.min.c5d92f380bf10f6849c7ac487c7df2b22c081e0851e5339224f1ae29210b20d2.css" integrity="sha256-xdkvOAvxD2hJx6xIfH3ysiwIHghR5TOSJPGuKSELINI=" media="screen" rel="stylesheet"/>
<link href="/scss/dark-mode.min.9f8d8c2df9285089d141edd4a50cb7506c7948e6ab79a29968dced1bd0ab7d22.css" integrity="sha256-n42MLfkoUInRQe3UpQy3UGx5SOareaKZaNztG9CrfSI=" media="screen" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css?family=Material+Icons" rel="stylesheet"/>
<script data-cf-beacon='{"token": 5a03d307f5214109a1e7c8b2cf306a3d' defer="" src="https://static.cloudflareinsights.com/beacon.min.js">
</script>
<style>
    pre code {
        color: black;
        -comment: "感谢评论区 https://github.com/lx200916 指出博客代码块深色模式问题";
    }
</style>
<script src="https://unpkg.com/zoomtastic@2.2.1"></script>
<script data-selector="code.language-kotlin" src="https://unpkg.com/kotlin-playground@1"></script>
<script>
    document.addEventListener("DOMContentLoaded", function(event) { 
        document.querySelectorAll("div.post-body-wrapper img").forEach(function(element){
            element.setAttribute("zoomtastic", true)
            element.style.maxWidth="60%"
        })
		
		Zoomtastic.mount({
			size: '95%',
			easing: 'ease',
			duration: 300,
			background: 'rgba(0, 0, 0, 0.9)',
			filter: 'drop-shadow(0 2px 16px rgba(0, 0, 0, 0.3))',
			animation: 'slide' 
		});
		
		Zoomtastic.listen('[zoomtastic]', 'src');
    });

	
	var _hmt = _hmt || [];
	(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?298c58938f9266e6098936c4f71a9a83";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
	})();

</script>
</head>
<body>
<div id="app"><div class="side-container" id="sideContainer">
<a class="a-block nav-head false" href="https://ntutn.top/">
<div class="nav-title">
            归零幻想
        </div>
<div class="nav-subtitle">
            零点还不算熬夜
        </div>
</a>
<div class="nav-link-list">
<a class="a-block nav-link-item false" href="/project">
                项目
            </a>
<a class="a-block nav-link-item false" href="/tags">
                标签
            </a>
<a class="a-block nav-link-item false" href="/zwiki">
                WIKI
            </a>
<a class="a-block nav-link-item false" href="/friends">
                友链
            </a>
<a class="a-block nav-link-item false" href="/about">
                关于
            </a>
<a class="a-block nav-link-item false" href="/index.xml">
                RSS
            </a>
<a class="a-block nav-link-item active" href="/posts">
                归档
            </a>
</div>
<div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://risehere.net/">Rise</a>
<br/>
移植自 <a href="https://mak1t0.cc/" rel="noreferrer noopener" target="_blank">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" rel="noreferrer noopener" target="_blank">Journal.</a> <br/>
<br/>

©
	
	CC BY-SA 4.0
	

    </div>
</div><div class="extra-container" id="extraContainer">
<div :class="{ invisible: scrollY &lt;= 140 }" class="toc animated-visibility">
</div>
<div class="pagination">
<a :class="{ invisible: scrollY == 0 }" class="pagination-action animated-visibility" href="#top" id="globalBackToTop">
<i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
</a>
<a class="pagination-action" id="darkModeToggleButton" type="button">
<span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
</a>
</div>
</div>
<div class="single-column-drawer-container" id="drawer" v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
<div class="drawer-content">
<div class="drawer-menu">
<a class="a-block drawer-menu-item false" href="/project">
                    项目
                </a>
<a class="a-block drawer-menu-item false" href="/tags">
                    标签
                </a>
<a class="a-block drawer-menu-item false" href="/zwiki">
                    WIKI
                </a>
<a class="a-block drawer-menu-item false" href="/friends">
                    友链
                </a>
<a class="a-block drawer-menu-item false" href="/about">
                    关于
                </a>
<a class="a-block drawer-menu-item false" href="/index.xml">
                    RSS
                </a>
<a class="a-block drawer-menu-item active" href="/posts">
                    归档
                </a>
<div class="toc">
</div>
</div>
</div>
</div>
<transition name="fade">
<div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav class="navbar sticky-top navbar-light single-column-nav-container" id="navBar">
<div class="nav-background" id="navBackground"></div>
<div class="container container-narrow nav-content">
<button class="nav-dropdown-toggle" id="nav_dropdown_btn" type="button" v-on:click="toggleDrawer">
<i class="material-icons">
                menu
            </i>
</button>
<a class="navbar-brand" href="https://ntutn.top/" id="navTitle">
            归零幻想
        </a>
<button class="nav-darkmode-toggle" id="darkModeToggleButton2" type="button">
<i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
</button>
</div>
</nav>
<div class="single-column-header-container" id="pageHead" v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
<a href="https://ntutn.top/">
<div class="single-column-header-title">归零幻想</div>
<div class="single-column-header-subtitle">零点还不算熬夜</div>
</a>
</div>
<div id="content">
<div class="stream-container" id="streamContainer">
<div class="post-list-container post-list-container-shadow">
<div class="post">
<div class="post-head-wrapper-text-only">
<div class="post-title">
                    图书管理系统
                    
                    <div class="post-subtitle">
                        翻出了以前写的C++作业，图书管理系统，虽然挺简单的，但留下纪念下吧。
                    </div>
<div class="post-meta">
<time itemprop="datePublished">
                            2019-04-13 03:11
                        </time>
<i class="material-icons" style="">folder</i>
<a href="/categories/%E7%BA%AA%E5%BF%B5">纪念</a>
                                 
                        

                        
                            <i class="material-icons" style="">label</i>
<a href="/tags/c++">C++</a>
                                 
                            
                                <a href="/tags/%E7%BA%AA%E5%BF%B5">纪念</a>
                                 
                            
                        
                        
                            <i class="material-icons" style="">schedule</i>
                            

                            
                            

                            
                            23 min
                            
                            23 s.
                        
                    </div>
</div>
</div>
<div class="post-body-wrapper">
<div class="post-body" v-pre="">
<p>翻出了以前写的C++作业，图书管理系统，虽然挺简单的，但留下纪念下吧。</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4" tabindex="0"><code class="language-cpp" data-lang="cpp"><span style="color:#1e889b">#include</span> <span style="color:#1e889b">&lt;iostream&gt;</span><span style="color:#1e889b">
</span><span style="color:#1e889b">#include</span><span style="color:#1e889b">&lt;cstdlib&gt;</span><span style="color:#1e889b">
</span><span style="color:#1e889b">#include</span><span style="color:#1e889b">&lt;cstring&gt;</span><span style="color:#1e889b">
</span><span style="color:#1e889b">#include</span><span style="color:#1e889b">&lt;fstream&gt;</span><span style="color:#1e889b">
</span><span style="color:#1e889b"></span><span style="color:#8b008b;font-weight:bold">using</span> <span style="color:#8b008b;font-weight:bold">namespace</span> std;
<span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">CUser</span>
{
<span style="color:#8b008b;font-weight:bold">private</span>:
    <span style="color:#00688b;font-weight:bold">int</span> code;      <span style="color:#228b22">//表示用户编号；
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">char</span> name[<span style="color:#b452cd">20</span>];  <span style="color:#228b22">//表示用户姓名
</span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">public</span>:
    CUser()
    {
        ;
    };   <span style="color:#228b22">// 默认构造函数
</span><span style="color:#228b22"></span>    CUser(<span style="color:#00688b;font-weight:bold">int</span> id, <span style="color:#00688b;font-weight:bold">char</span> na[])
    {
        code=id;
        strcpy(name,na);
    };   <span style="color:#228b22">//构造函数，初始化用户信息
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">setcode</span>(<span style="color:#00688b;font-weight:bold">int</span> n)
    {
        code=n;
    };      <span style="color:#228b22">//用来设置用户编号
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">getcode</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> code;
    };          <span style="color:#228b22">//用来获取用户编号
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">setname</span>(<span style="color:#00688b;font-weight:bold">char</span> na[])
    {
        strcpy(name,na);
    };  <span style="color:#228b22">//用来设置用户姓名
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">char</span>* <span style="color:#008b45">getname</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> name;
    };        <span style="color:#228b22">//用来获取用户姓名
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">show</span>()
    {
        cout&lt;&lt;<span style="color:#cd5555">"用户编号："</span>&lt;&lt;code&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"姓名："</span>&lt;&lt;name&lt;&lt;endl;
    };           <span style="color:#228b22">//用来显示用户的基本信息
</span><span style="color:#228b22"></span>};
<span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">CBook</span>
{
<span style="color:#8b008b;font-weight:bold">private</span>:
    <span style="color:#00688b;font-weight:bold">int</span> code;              <span style="color:#228b22">//图书编号
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">char</span> name[<span style="color:#b452cd">20</span>];      <span style="color:#228b22">//图书名称
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">bool</span> Is_Stock;          <span style="color:#228b22">//true为在架，false为借出
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">bool</span> Is_Existing;       <span style="color:#228b22">//true为存在, false为删除
</span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">public</span>:
    CBook()
    {
        ;
    }; <span style="color:#228b22">//默认构造函数
</span><span style="color:#228b22"></span>    CBook(<span style="color:#00688b;font-weight:bold">int</span> no,<span style="color:#00688b;font-weight:bold">char</span> na[])
    {
        code=no;
        strcpy(name,na);
        Is_Stock=<span style="color:#658b00">true</span>;
        Is_Existing=<span style="color:#658b00">true</span>;
    };    <span style="color:#228b22">//构造函数，初始化图书信息
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">setcode</span>(<span style="color:#00688b;font-weight:bold">int</span> n)
    {
        code=n;
    };   <span style="color:#228b22">//设置图书编号
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">getcode</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> code;
    };    <span style="color:#228b22">//获取图书编号
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">setname</span>(<span style="color:#00688b;font-weight:bold">char</span> na[])
    {
        strcpy(name,na);
    };    <span style="color:#228b22">//设置图书名称
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">char</span>* <span style="color:#008b45">getname</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> name;
    };  <span style="color:#228b22">//获取图书名称
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">bool</span>  <span style="color:#008b45">get_Stock</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> Is_Stock;
    };  <span style="color:#228b22">//获取图书是否在库信息
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">set_Stock</span>(<span style="color:#00688b;font-weight:bold">bool</span> isstock)
    {
        Is_Stock=isstock;
    };<span style="color:#228b22">// 设置图书是否在库信息
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">bool</span>  <span style="color:#008b45">get_Existing</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> Is_Existing;
    };<span style="color:#228b22">//获取存在标志
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">set_Existing</span>(<span style="color:#00688b;font-weight:bold">bool</span> isex)
    {
        Is_Existing=isex;
    };<span style="color:#228b22">//设置存在标志
</span><span style="color:#228b22"></span>};
<span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">CReader</span>:<span style="color:#8b008b;font-weight:bold">public</span> CUser
{
<span style="color:#8b008b;font-weight:bold">private</span>:
    <span style="color:#00688b;font-weight:bold">bool</span> Is_Existing;  <span style="color:#228b22">//true存在，false删除
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">bool</span> Is_Borrowing;  <span style="color:#228b22">//true借过书，false没有借书
</span><span style="color:#228b22"></span>    CBook brbook;     <span style="color:#228b22">//表示读者所借的图书
</span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">public</span>:
    CReader()
    {
        CUser();
    };   <span style="color:#228b22">//构造函数，初始化读者信息
</span><span style="color:#228b22"></span>    CReader(<span style="color:#00688b;font-weight:bold">int</span> id, <span style="color:#00688b;font-weight:bold">char</span> na[])
    {
        CUser(id,na);
    };   <span style="color:#228b22">//构造函数，初始化读者信息
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">bool</span> <span style="color:#008b45">get_Existing</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> Is_Existing;
    };        <span style="color:#228b22">//用来获取删除标志
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">set_Existing</span>(<span style="color:#00688b;font-weight:bold">bool</span> isex)
    {
        Is_Existing=isex;
    };     <span style="color:#228b22">//用来设置删除标志
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">bool</span> <span style="color:#008b45">get_Borrowing</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> Is_Borrowing;
    };      <span style="color:#228b22">//用来获取读者借阅情况
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">set_Borrowing</span>(<span style="color:#00688b;font-weight:bold">bool</span> isbo)
    {
        Is_Borrowing=isbo;
    };   <span style="color:#228b22">//用来设置读者借阅情况
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">setbrbook</span>(CBook bt)
    {
        brbook=bt;
        Is_Borrowing=<span style="color:#658b00">true</span>;
    };  <span style="color:#228b22">//用来记录读者结束信息
</span><span style="color:#228b22"></span>    CBook <span style="color:#008b45">getbrbook</span>()
    {
        <span style="color:#8b008b;font-weight:bold">return</span> brbook;
    };     <span style="color:#228b22">//用来获取读者结束信息
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">show</span>()
    {
        CUser::show();
        <span style="color:#8b008b;font-weight:bold">if</span>(Is_Borrowing)
        {
            cout&lt;&lt;<span style="color:#cd5555">"当前借书："</span>&lt;&lt;brbook.getname()&lt;&lt;endl;
        }
        <span style="color:#8b008b;font-weight:bold">else</span>
        {
            cout&lt;&lt;<span style="color:#cd5555">"当前用户没有借书！"</span>&lt;&lt;endl;
        }
    };               <span style="color:#228b22">//重写基类成员，显示读者的基本信息情况和借书情况
</span><span style="color:#228b22"></span>};
<span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">CReaderManager</span>
{
<span style="color:#8b008b;font-weight:bold">private</span>:
    CReader rdarray[<span style="color:#b452cd">50</span>];<span style="color:#228b22">// 存储读者信息的集合
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">int</span> top;      <span style="color:#228b22">//当前数组中存储的读者数量
</span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">public</span>:
    CReaderManager()
    {
        top=<span style="color:#b452cd">0</span>;
    };  <span style="color:#228b22">// 构造函数
</span><span style="color:#228b22"></span>    ~CReaderManager()
    {
    };   <span style="color:#228b22">//析构函数
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">addreaders</span>()
    {
        <span style="color:#00688b;font-weight:bold">char</span> tmp[<span style="color:#b452cd">20</span>];
        <span style="color:#00688b;font-weight:bold">int</span> tmp_no;
        cout&lt;&lt;<span style="color:#cd5555">"请输入读者的相关信息："</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"请输入读者的名称："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp;
        cout&lt;&lt;<span style="color:#cd5555">"请输入读者的编号："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp_no;
        CReader tmp_reader(tmp_no,tmp);
        rdarray[top]=tmp_reader;
        top++;
        cout&lt;&lt;<span style="color:#cd5555">"读者添加成功。"</span>&lt;&lt;endl;
    };          <span style="color:#228b22">//添加读者
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">findreaders</span>(<span style="color:#00688b;font-weight:bold">int</span> suffix)
    {
        <span style="color:#8b008b;font-weight:bold">for</span>(<span style="color:#00688b;font-weight:bold">int</span> i=<span style="color:#b452cd">0</span>; i&lt;top; i++)
        {
            <span style="color:#8b008b;font-weight:bold">if</span>(rdarray[i].getcode()==suffix)
            {
                <span style="color:#8b008b;font-weight:bold">return</span> i;<span style="color:#228b22">//返回在库中的位置。
</span><span style="color:#228b22"></span>            }
        }
        <span style="color:#8b008b;font-weight:bold">return</span> -<span style="color:#b452cd">1</span>;<span style="color:#228b22">//未找到
</span><span style="color:#228b22"></span>    };     <span style="color:#228b22">//查找读者，这个函数用于借书还书操作。
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">findreaders</span>()
    {
        <span style="color:#00688b;font-weight:bold">char</span> tmp[<span style="color:#b452cd">20</span>];
        cout&lt;&lt;<span style="color:#cd5555">"请输入需要查找的用户的名称："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp;
        <span style="color:#8b008b;font-weight:bold">for</span>(<span style="color:#00688b;font-weight:bold">int</span> i=<span style="color:#b452cd">0</span>; i&lt;top; i++)
        {
            <span style="color:#8b008b;font-weight:bold">if</span>(strcmp(rdarray[i].getname(),tmp)==<span style="color:#b452cd">0</span>)
            {
                <span style="color:#8b008b;font-weight:bold">return</span> i;
            }
        }
        <span style="color:#8b008b;font-weight:bold">return</span> -<span style="color:#b452cd">1</span>;
    };            <span style="color:#228b22">//查找读者，这个函数用于读者维护操作
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">editreaders</span>()
    {
        <span style="color:#00688b;font-weight:bold">char</span> tmp[<span style="color:#b452cd">20</span>];
        <span style="color:#00688b;font-weight:bold">int</span> code;
        <span style="color:#00688b;font-weight:bold">int</span> num=findreaders();
        <span style="color:#00688b;font-weight:bold">int</span> tmp_ex;
        <span style="color:#8b008b;font-weight:bold">if</span>(num==-<span style="color:#b452cd">1</span>)
        {
            cout&lt;&lt;<span style="color:#cd5555">"您要的用户没有找到。"</span>&lt;&lt;endl;
            <span style="color:#8b008b;font-weight:bold">return</span>;
        }
        cout&lt;&lt;<span style="color:#cd5555">"用户姓名："</span>&lt;&lt;rdarray[num].getname()&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"编号："</span>&lt;&lt;rdarray[num].getcode()&lt;&lt;endl;
        <span style="color:#8b008b;font-weight:bold">if</span>(rdarray[num].get_Borrowing())
        {
            cout&lt;&lt;<span style="color:#cd5555">"用户借了"</span>&lt;&lt;rdarray[num].getbrbook().getname()&lt;&lt;endl;
        }
        <span style="color:#8b008b;font-weight:bold">else</span>
        {
            cout&lt;&lt;<span style="color:#cd5555">"用户没有借任何书。"</span>&lt;&lt;endl;
        }
        <span style="color:#8b008b;font-weight:bold">if</span>(rdarray[num].get_Existing())
        {
            cout&lt;&lt;<span style="color:#cd5555">"用户状态正常。"</span>&lt;&lt;endl;
        }
        <span style="color:#8b008b;font-weight:bold">else</span>
        {
            cout&lt;&lt;<span style="color:#cd5555">"用户已经被删除。"</span>&lt;&lt;endl;
        }
        cout&lt;&lt;<span style="color:#cd5555">"请输入修改后的姓名："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp;
        rdarray[num].setname(tmp);
        cout&lt;&lt;<span style="color:#cd5555">"请输入修改后的编号："</span>&lt;&lt;endl;
        cin&gt;&gt;code;
        rdarray[num].setcode(code);
        <span style="color:#8b008b;font-weight:bold">if</span>(!rdarray[num].get_Existing())
        {
            cout&lt;&lt;<span style="color:#cd5555">"用户被标记为删除状态，是否恢复？(1恢复/0不恢复)"</span>&lt;&lt;endl;
            cin&gt;&gt;tmp_ex;
            rdarray[num].set_Existing(tmp_ex);
        }
    };          <span style="color:#228b22">//编辑读者信息
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">delreaders</span>()
    {
        <span style="color:#00688b;font-weight:bold">int</span> tmp_code;
        <span style="color:#00688b;font-weight:bold">int</span> num;
        cout&lt;&lt;<span style="color:#cd5555">"请输入要删除的用户的编号："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp_code;
        num=findreaders(tmp_code);
        <span style="color:#8b008b;font-weight:bold">if</span>(num==-<span style="color:#b452cd">1</span>)
        {
            cout&lt;&lt;<span style="color:#cd5555">"用户未找到，操作失败。"</span>&lt;&lt;endl;
            <span style="color:#8b008b;font-weight:bold">return</span>;
        }
        <span style="color:#8b008b;font-weight:bold">if</span>(!rdarray[num].get_Existing())
        {
            cout&lt;&lt;<span style="color:#cd5555">"用户已经被删除，操作失败。"</span>&lt;&lt;endl;
            <span style="color:#8b008b;font-weight:bold">return</span>;
        }
        <span style="color:#8b008b;font-weight:bold">if</span>(!rdarray[num].get_Borrowing())
        {
            cout&lt;&lt;<span style="color:#cd5555">"用户有书未还，操作失败。"</span>&lt;&lt;endl;
            <span style="color:#8b008b;font-weight:bold">return</span>;
        }
        rdarray[num].set_Existing(<span style="color:#658b00">false</span>);
        cout&lt;&lt;<span style="color:#cd5555">"用户删除完毕。"</span>&lt;&lt;endl;
    };          <span style="color:#228b22">//删除读者，读者如果借书要还书后才能删除
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">listreaders</span>()
    {
        <span style="color:#8b008b;font-weight:bold">for</span>(<span style="color:#00688b;font-weight:bold">int</span> i=<span style="color:#b452cd">0</span>; i&lt;top; i++)
        {
            <span style="color:#8b008b;font-weight:bold">if</span>(rdarray[i].get_Existing())
            {
                cout&lt;&lt;rdarray[i].getcode()&lt;&lt;<span style="color:#cd5555">'\t'</span>&lt;&lt;rdarray[i].getname()&lt;&lt;<span style="color:#cd5555">'\t'</span>;
                <span style="color:#8b008b;font-weight:bold">if</span>(rdarray[i].get_Borrowing())
                {
                    cout&lt;&lt;rdarray[i].getbrbook().getname();
                }
                <span style="color:#8b008b;font-weight:bold">else</span>
                {
                    cout&lt;&lt;<span style="color:#cd5555">"未借书"</span>;
                }
                cout&lt;&lt;endl;
            }
        }
    };           <span style="color:#228b22">//显示所有读者
</span><span style="color:#228b22"></span>    CReader&amp; getreader(<span style="color:#00688b;font-weight:bold">int</span> p)
    {
        <span style="color:#8b008b;font-weight:bold">if</span>(p&lt;<span style="color:#b452cd">0</span>||p&gt;=top)
        {
            cout&lt;&lt;<span style="color:#cd5555">"下标越界。"</span>&lt;&lt;endl;
            p=<span style="color:#b452cd">0</span>;
        }
        <span style="color:#8b008b;font-weight:bold">return</span> rdarray[p];
    }
};
<span style="color:#8b008b;font-weight:bold">class</span> <span style="color:#008b45;font-weight:bold">CBookManager</span>
{
<span style="color:#8b008b;font-weight:bold">private</span>:
    CBook btarray[<span style="color:#b452cd">50</span>];                   <span style="color:#228b22">//图书集合
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">int</span> top;                         <span style="color:#228b22">//当前数组中存储的图书数量
</span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">public</span>:
    CBookManager()
    {
        top=<span style="color:#b452cd">0</span>;
    };
    ~CBookManager()
    {
        ;
    };
    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">addbooks</span>()
    {
        <span style="color:#00688b;font-weight:bold">char</span> tmp[<span style="color:#b452cd">20</span>];
        <span style="color:#00688b;font-weight:bold">int</span> tmp_no;
        cout&lt;&lt;<span style="color:#cd5555">"请输入图书的相关信息："</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"请输入图书的名称："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp;
        cout&lt;&lt;<span style="color:#cd5555">"请输入图书的编号："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp_no;
        CBook tmp_book(tmp_no,tmp);
        btarray[top]=tmp_book;
        top++;
        cout&lt;&lt;<span style="color:#cd5555">"图书入库成功。"</span>&lt;&lt;endl;
    };    <span style="color:#228b22">//添加图书
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">findbooks</span>(<span style="color:#00688b;font-weight:bold">int</span> suffix)
    {
        <span style="color:#8b008b;font-weight:bold">for</span>(<span style="color:#00688b;font-weight:bold">int</span> i=<span style="color:#b452cd">0</span>; i&lt;top; i++)
        {
            <span style="color:#8b008b;font-weight:bold">if</span>(btarray[i].getcode()==suffix)
            {
                <span style="color:#8b008b;font-weight:bold">return</span> i;<span style="color:#228b22">//返回图书在书库中的位置。
</span><span style="color:#228b22"></span>            }
        }
        <span style="color:#8b008b;font-weight:bold">return</span> -<span style="color:#b452cd">1</span>;<span style="color:#228b22">//未找到图书
</span><span style="color:#228b22"></span>    };  <span style="color:#228b22">//查找图书，这个函数用于借书还书操作
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">findbooks</span>()
    {
        <span style="color:#00688b;font-weight:bold">char</span> tmp[<span style="color:#b452cd">20</span>];
        cout&lt;&lt;<span style="color:#cd5555">"请输入需要查找的图书的名称："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp;
        <span style="color:#8b008b;font-weight:bold">for</span>(<span style="color:#00688b;font-weight:bold">int</span> i=<span style="color:#b452cd">0</span>; i&lt;top; i++)
        {
            <span style="color:#8b008b;font-weight:bold">if</span>(strcmp(btarray[i].getname(),tmp)==<span style="color:#b452cd">0</span>)
            {
                <span style="color:#8b008b;font-weight:bold">return</span> i;
            }
        }
        <span style="color:#8b008b;font-weight:bold">return</span> -<span style="color:#b452cd">1</span>;
    };  <span style="color:#228b22">//查找图书，用于图书维护操作
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">editbooks</span>()
    {
        <span style="color:#00688b;font-weight:bold">char</span> tmp[<span style="color:#b452cd">20</span>];
        <span style="color:#00688b;font-weight:bold">int</span> code;
        <span style="color:#00688b;font-weight:bold">int</span> num=findbooks();
        <span style="color:#00688b;font-weight:bold">int</span> tmp_ex;
        <span style="color:#8b008b;font-weight:bold">if</span>(num==-<span style="color:#b452cd">1</span>)
        {
            cout&lt;&lt;<span style="color:#cd5555">"您要的图书没有找到。"</span>&lt;&lt;endl;
            <span style="color:#8b008b;font-weight:bold">return</span>;
        }
        cout&lt;&lt;<span style="color:#cd5555">"图书名称："</span>&lt;&lt;btarray[num].getname()&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"图书编号："</span>&lt;&lt;btarray[num].getcode()&lt;&lt;endl;
        <span style="color:#8b008b;font-weight:bold">if</span>(btarray[num].get_Stock())
        {
            cout&lt;&lt;<span style="color:#cd5555">"图书在架。"</span>&lt;&lt;endl;
        }
        <span style="color:#8b008b;font-weight:bold">else</span>
        {
            cout&lt;&lt;<span style="color:#cd5555">"图书已经借出。"</span>&lt;&lt;endl;
        }
        <span style="color:#8b008b;font-weight:bold">if</span>(btarray[num].get_Existing())
        {
            cout&lt;&lt;<span style="color:#cd5555">"图书状态正常。"</span>&lt;&lt;endl;
        }
        <span style="color:#8b008b;font-weight:bold">else</span>
        {
            cout&lt;&lt;<span style="color:#cd5555">"图书已经被删除。"</span>&lt;&lt;endl;
        }
        cout&lt;&lt;<span style="color:#cd5555">"请输入修改后的名称："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp;
        btarray[num].setname(tmp);
        cout&lt;&lt;<span style="color:#cd5555">"请输入修改后的编号："</span>&lt;&lt;endl;
        cin&gt;&gt;code;
        btarray[num].setcode(code);
        <span style="color:#8b008b;font-weight:bold">if</span>(!btarray[num].get_Existing())
        {
            cout&lt;&lt;<span style="color:#cd5555">"图书被标记为删除状态，是否恢复？(1恢复/0不恢复)"</span>&lt;&lt;endl;
            cin&gt;&gt;tmp_ex;
            btarray[num].set_Existing(tmp_ex);
        }
    };     <span style="color:#228b22">//编辑图书
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">delbooks</span>()
    {
        <span style="color:#00688b;font-weight:bold">int</span> tmp_code;
        <span style="color:#00688b;font-weight:bold">int</span> num;
        cout&lt;&lt;<span style="color:#cd5555">"请输入要删除的图书的编号："</span>&lt;&lt;endl;
        cin&gt;&gt;tmp_code;
        num=findbooks(tmp_code);
        <span style="color:#8b008b;font-weight:bold">if</span>(num==-<span style="color:#b452cd">1</span>)
        {
            cout&lt;&lt;<span style="color:#cd5555">"图书未找到，操作失败。"</span>&lt;&lt;endl;
            <span style="color:#8b008b;font-weight:bold">return</span>;
        }
        <span style="color:#8b008b;font-weight:bold">if</span>(!btarray[num].get_Existing())
        {
            cout&lt;&lt;<span style="color:#cd5555">"图书已经被删除，操作失败。"</span>&lt;&lt;endl;
            <span style="color:#8b008b;font-weight:bold">return</span>;
        }
        <span style="color:#8b008b;font-weight:bold">if</span>(!btarray[num].get_Stock())
        {
            cout&lt;&lt;<span style="color:#cd5555">"图书被借出，操作失败。"</span>&lt;&lt;endl;
            <span style="color:#8b008b;font-weight:bold">return</span>;
        }
        btarray[num].set_Existing(<span style="color:#658b00">false</span>);
        cout&lt;&lt;<span style="color:#cd5555">"图书删除完毕。"</span>&lt;&lt;endl;
    };   <span style="color:#228b22">//  删除图书
</span><span style="color:#228b22"></span>    <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">listbooks</span>()
    {
        <span style="color:#8b008b;font-weight:bold">for</span>(<span style="color:#00688b;font-weight:bold">int</span> i=<span style="color:#b452cd">0</span>; i&lt;top; i++)
        {
            <span style="color:#8b008b;font-weight:bold">if</span>(btarray[i].get_Stock()&amp;&amp;btarray[i].get_Existing())
            {
                cout&lt;&lt;btarray[i].getcode()&lt;&lt;<span style="color:#cd5555">'\t'</span>&lt;&lt;btarray[i].getname()&lt;&lt;endl;
            }
        }
    } ;  <span style="color:#228b22">//显示全部图书
</span><span style="color:#228b22"></span>    CBook&amp; getbook(<span style="color:#00688b;font-weight:bold">int</span> p)
    {
        <span style="color:#8b008b;font-weight:bold">if</span>(p&lt;<span style="color:#b452cd">0</span>||p&gt;=top)
        {
            cout&lt;&lt;<span style="color:#cd5555">"下标越界。"</span>&lt;&lt;endl;
            p=<span style="color:#b452cd">0</span>;
        }
        <span style="color:#8b008b;font-weight:bold">return</span> btarray[p];
    }
};
<span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">showmenu</span>()
{
    <span style="color:#00688b;font-weight:bold">char</span> re=<span style="color:#b452cd">0</span>;
    <span style="color:#8b008b;font-weight:bold">while</span>(re&lt;<span style="color:#cd5555">'1'</span>||re&gt;<span style="color:#cd5555">'6'</span>)
    {
        cout&lt;&lt;<span style="color:#cd5555">"功能菜单"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"1.读者管理"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"2.借书管理"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"3.还书管理"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"4.图书管理"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"5.文件存储"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"6.退出"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"请输入对应序号并回车"</span>&lt;&lt;endl;
        cin&gt;&gt;re;
        <span style="color:#228b22">//cout&lt;&lt;re;
</span><span style="color:#228b22"></span>    }
    <span style="color:#8b008b;font-weight:bold">return</span> re-<span style="color:#cd5555">'0'</span>;
}
<span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">showmenu1</span>()
{
    <span style="color:#00688b;font-weight:bold">int</span> re=<span style="color:#b452cd">0</span>;
    <span style="color:#8b008b;font-weight:bold">while</span>(re&lt;<span style="color:#b452cd">1</span>||re&gt;<span style="color:#b452cd">4</span>)
    {
        cout&lt;&lt;<span style="color:#cd5555">"功能菜单--读者管理"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"1.添加读者"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"2.删除读者"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"3.修改读者"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"4.查找读者"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"请输入对应序号并回车"</span>&lt;&lt;endl;
        cin&gt;&gt;re;
    }
    <span style="color:#8b008b;font-weight:bold">return</span> re;
}
<span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">showmenu4</span>()
{
    <span style="color:#00688b;font-weight:bold">int</span> re=<span style="color:#b452cd">0</span>;
    <span style="color:#8b008b;font-weight:bold">while</span>(re&lt;<span style="color:#b452cd">1</span>||re&gt;<span style="color:#b452cd">4</span>)
    {
        cout&lt;&lt;<span style="color:#cd5555">"功能菜单--图书管理"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"1.添加图书"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"2.删除图书"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"3.修改图书"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"4.查找图书"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"请输入对应序号并回车"</span>&lt;&lt;endl;
        cin&gt;&gt;re;
    }
    <span style="color:#8b008b;font-weight:bold">return</span> re;
}
<span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">showmenu5</span>()
{
    <span style="color:#00688b;font-weight:bold">int</span> re=<span style="color:#b452cd">0</span>;
    <span style="color:#8b008b;font-weight:bold">while</span>(re&lt;<span style="color:#b452cd">1</span>||re&gt;<span style="color:#b452cd">2</span>)
    {
        cout&lt;&lt;<span style="color:#cd5555">"功能菜单--文件存储"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"1.读取"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"2.保存"</span>&lt;&lt;endl;
        cout&lt;&lt;<span style="color:#cd5555">"请输入对应序号并回车"</span>&lt;&lt;endl;
        cin&gt;&gt;re;
    }
    <span style="color:#8b008b;font-weight:bold">return</span> re;
}
<span style="color:#00688b;font-weight:bold">int</span> <span style="color:#008b45">main</span>()
{
    CReaderManager cm1;
    CBookManager cb1;
    ofstream file;
    ifstream file2;
    <span style="color:#00688b;font-weight:bold">int</span> cz=<span style="color:#b452cd">0</span>;
    <span style="color:#00688b;font-weight:bold">int</span> tmp_us;
    <span style="color:#00688b;font-weight:bold">int</span> tmp_bo;
    <span style="color:#8b008b;font-weight:bold">while</span>(<span style="color:#658b00">true</span>)
    {
        cz=showmenu();
        <span style="color:#8b008b;font-weight:bold">switch</span>(cz)
        {
        <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">1</span>:
            cz=showmenu1();
            <span style="color:#8b008b;font-weight:bold">switch</span>(cz)
            {
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">1</span>:
                cm1.addreaders();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">2</span>:
                cm1.delreaders();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">3</span>:
                cm1.editreaders();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">4</span>:
                cm1.findreaders();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            <span style="color:#8b008b;font-weight:bold">break</span>;
        <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">2</span>:
            tmp_bo=cb1.findbooks();
            <span style="color:#8b008b;font-weight:bold">if</span>(tmp_bo==-<span style="color:#b452cd">1</span>)
            {
                cout&lt;&lt;<span style="color:#cd5555">"您要借的书没有找到。"</span>&lt;&lt;endl;
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            <span style="color:#8b008b;font-weight:bold">if</span>(!cb1.getbook(tmp_bo).get_Existing())
            {
                cout&lt;&lt;<span style="color:#cd5555">"您要借的书已经被删除，操作失败。"</span>&lt;&lt;endl;
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            <span style="color:#8b008b;font-weight:bold">if</span>(!cb1.getbook(tmp_bo).get_Stock())
            {
                cout&lt;&lt;<span style="color:#cd5555">"您要借的书已经被借出，操作失败。"</span>&lt;&lt;endl;
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            tmp_us=cm1.findreaders();
            <span style="color:#8b008b;font-weight:bold">if</span>(tmp_bo==-<span style="color:#b452cd">1</span>)
            {
                cout&lt;&lt;<span style="color:#cd5555">"您使用的身份无效。"</span>&lt;&lt;endl;
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            <span style="color:#8b008b;font-weight:bold">if</span>(!cm1.getreader(tmp_us).get_Existing())
            {
                cout&lt;&lt;<span style="color:#cd5555">"您的账户已经被管理员删除。"</span>&lt;&lt;endl;
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            <span style="color:#8b008b;font-weight:bold">if</span>(cm1.getreader((tmp_us)).get_Borrowing())
            {
                cout&lt;&lt;<span style="color:#cd5555">"请把您借的书还了再借。"</span>&lt;&lt;endl;
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            cm1.getreader(tmp_us).set_Borrowing(<span style="color:#658b00">true</span>);
            cm1.getreader(tmp_us).setbrbook(cb1.getbook(tmp_bo));
            cb1.getbook(tmp_bo).set_Stock(<span style="color:#658b00">false</span>);
            <span style="color:#8b008b;font-weight:bold">break</span>;
        <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">3</span>:
            cm1.editreaders();
        <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">4</span>:
            cz=showmenu4();
            <span style="color:#8b008b;font-weight:bold">switch</span>(cz)
            {
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">1</span>:
                cb1.addbooks();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">2</span>:
                cb1.delbooks();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">3</span>:
                cb1.editbooks();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">4</span>:
                cb1.findbooks();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            <span style="color:#8b008b;font-weight:bold">break</span>;
        <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">5</span>:
            cz=showmenu5();
            <span style="color:#8b008b;font-weight:bold">switch</span>(cz)
            {
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">1</span>:
                file2.open(<span style="color:#cd5555">"cb1.dat"</span>,ios::binary);
                <span style="color:#228b22">//二进制打开，缺省为文本，ios::out,ios::in,文本输入输出用&lt;&lt;,&gt;&gt;
</span><span style="color:#228b22"></span>                file2.read((<span style="color:#00688b;font-weight:bold">char</span> *)&amp;cb1,<span style="color:#8b008b;font-weight:bold">sizeof</span>(cb1));
                <span style="color:#228b22">///int num=file2.gcount(); //获取读到文件的大小
</span><span style="color:#228b22"></span>                file2.close();
                file2.open(<span style="color:#cd5555">"cm1.dat"</span>,ios::binary);
                <span style="color:#228b22">//二进制打开，缺省为文本，ios::out,ios::in,文本输入输出用&lt;&lt;,&gt;&gt;
</span><span style="color:#228b22"></span>                file2.read((<span style="color:#00688b;font-weight:bold">char</span> *)&amp;cm1,<span style="color:#8b008b;font-weight:bold">sizeof</span>(cm1));
                <span style="color:#228b22">///int num=file2.gcount(); //获取读到文件的大小
</span><span style="color:#228b22"></span>                file2.close();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">2</span>:
                file.open(<span style="color:#cd5555">"cb1.dat"</span>,ios::binary);
                <span style="color:#228b22">//缓存的类型是 unsigned char *，需要类型转换
</span><span style="color:#228b22"></span>                file.write((<span style="color:#00688b;font-weight:bold">char</span> *)&amp;cb1,<span style="color:#8b008b;font-weight:bold">sizeof</span>(cb1));  <span style="color:#228b22">//winServer为类对象
</span><span style="color:#228b22"></span>                file.close();
                file.open(<span style="color:#cd5555">"cm1.dat"</span>,ios::binary);
                <span style="color:#228b22">//缓存的类型是 unsigned char *，需要类型转换
</span><span style="color:#228b22"></span>                file.write((<span style="color:#00688b;font-weight:bold">char</span> *)&amp;cm1,<span style="color:#8b008b;font-weight:bold">sizeof</span>(cm1));  <span style="color:#228b22">//winServer为类对象
</span><span style="color:#228b22"></span>                file.close();
                <span style="color:#8b008b;font-weight:bold">break</span>;
            }
            <span style="color:#8b008b;font-weight:bold">break</span>;
        <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">6</span>:
            exit(<span style="color:#b452cd">0</span>);
            <span style="color:#8b008b;font-weight:bold">break</span>;
        }
    }
    <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#b452cd">0</span>;
}
</code></pre></div>
<hr id="EOF" width="100%"/>
<p style="color:#777;">最后修改于 2019-04-13</p>
</div>
</div>
<nav class="post-pagination">
<a class="newer-posts" href="/posts/%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC/">
			下回<br/>数据结构 栈应用2 表达式求值
                </a>
<a class="older-posts" href="/posts/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">
			上回<br/>学生管理系统
                </a>
</nav>
<div class="post-comment-wrapper">
<script async="" crossorigin="anonymous" issue-term="title" label="" repo="zerofancy/zerofancy.github.io" src="https://utteranc.es/client.js" theme="github-light">
</script>
</div>
</div>
</div>
</div>
</div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://risehere.net/">Rise</a>
<br/>
移植自 <a href="https://mak1t0.cc/" rel="noreferrer noopener" target="_blank">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" rel="noreferrer noopener" target="_blank">Journal.</a> <br/>
<br/>

©
	
	CC BY-SA 4.0
	
</div>
</div>
<script src="/js/journal.js"></script></body>
</html>
