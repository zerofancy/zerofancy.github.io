<!doctype html>
<html lang="zh-CN">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <title>Hello, world!</title>
</head>

<body>
    <nav class="container navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="/favicon.ico" alt="归零幻想" width="20px" height="20px">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/">Home</a>
                    </li>
                <!--
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Dropdown
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                    </li>
                -->
                </ul>
                <!--
                <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
                -->
            </div>
        </div>
    </nav>

    <div class="container mt-3">
        <div class="row">
            <div class="card col-md-4 d-none d-md-block me-md-3 text-center" style="width: 18rem;">
                <img src="/favicon.ico" alt="avatar" class="mt-3">
                <div class="card-body">
                    <p class="card-text">
                        归零幻想
                    </p>
                </div>
            </div>
    
            <div class="card col">
                <div class="card-body"><h1 id="fragment">Fragment</h1>
<h2 id="fragment的使用方式">Fragment的使用方式</h2>
<h3 id="静态添加fragment">静态添加Fragment</h3>
<p>Fragment的写法</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
              android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;
              android:layout_height=&quot;match_parent&quot;&gt;

    &lt;Button
            android:id=&quot;@+id/button&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:text=&quot;button&quot;
            android:layout_gravity=&quot;center_horizontal&quot;/&gt;

&lt;/LinearLayout&gt;
</code></pre>
<pre><code class="language-kotlin">package top.ntutn.fragmenttest

import android.os.Bundle
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import androidx.fragment.app.Fragment

class LeftFragment : Fragment() {
    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        return inflater.inflate(R.layout.left_fragment, container, false)
    }
}
</code></pre>
<p>静态添加Fragment</p>
<pre><code class="language-xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
              xmlns:tools=&quot;http://schemas.android.com/tools&quot;
              android:layout_width=&quot;match_parent&quot;
              android:layout_height=&quot;match_parent&quot;
              android:orientation=&quot;horizontal&quot;
              tools:context=&quot;.MainActivity&quot;&gt;

    &lt;fragment
            android:id=&quot;@+id/leftFragment&quot;
            android:name=&quot;top.ntutn.fragmenttest.LeftFragment&quot;
            android:layout_width=&quot;0dp&quot;
            android:layout_height=&quot;match_parent&quot;
            android:layout_weight=&quot;1&quot;/&gt;

    &lt;fragment
            android:id=&quot;@+id/rightFragment&quot;
            android:name=&quot;top.ntutn.fragmenttest.RightFragment&quot;
            android:layout_width=&quot;0dp&quot;
            android:layout_height=&quot;match_parent&quot;
            android:layout_weight=&quot;1&quot;/&gt;

&lt;/LinearLayout&gt;
</code></pre>
<!--summary-->
<h3 id="动态添加fragment">动态添加Fragment</h3>
<pre><code class="language-kotlin">
val fragmentManager = supportFragmentManager
val transaction = fragmentManager.beginTransaction()
transaction.replace(R.id.rightLayout, fragment)
transaction.commit()
</code></pre>
<h3 id="在fragment中实现返回栈">在Fragment中实现返回栈</h3>
<pre><code class="language-kotlin">
val fragmentManager = supportFragmentManager
val transaction = fragmentManager.beginTransaction()
transaction.replace(R.id.rightLayout, fragment)
transaction.addToBackStack(null)
transaction.commit()
</code></pre>
<h3 id="fragment与activity交互">Fragment与Activity交互</h3>
<p>Activity中获取Fragment</p>
<pre><code class="language-kotlin">val fragment = supportFragmentManager.findFragmentById(R.id.leftFragment) as LeftFragment
</code></pre>
<p>或使用<code>kotlin-android-extensions</code></p>
<pre><code class="language-kotlin">val fragment = leftFragment as LeftFragment
</code></pre>
<h2 id="fragment的生命周期">Fragment的生命周期</h2>
<p>和Activity的生命周期类似，重点是几个方法：</p>
<ul>
<li>onAttach() 当Fragment和Activity建立关联的时候调用</li>
<li>onCreateView() 为Fragment创建视图时调用</li>
<li>onActivityCreated() 确保与Fragment相关联的Activity创建完毕时调用。</li>
<li>onDestroyView() 与Fragment关联的视图被移除时调用。</li>
<li>onDetach() 当Fragment与Activity解除关联时调用</li>
</ul>
</div>
            </div>
    
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>