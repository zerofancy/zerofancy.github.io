<!doctype html>
<html lang="zh-CN">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/idea.min.css"
        integrity="sha512-Rfc5zQIp95eozfMCdS3B4MItUxU8orNje/t1OEhf7XwIk0DTCuMH2LG0NIgP8UGYK9L39WfUNI1c4IsM5yY/PA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>二叉树ADT的实现-归零幻想</title>

    <style>
        body {
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
    </style>
</head>

<body>
    <nav class="container navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="/favicon.ico" alt="归零幻想" width="20px" height="20px">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/tag.html">标签</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">关于</a>
                    </li>
                    <!--
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Dropdown
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                    </li>
                -->
                </ul>
                <!--
                <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
                -->
            </div>
        </div>
    </nav>

    <div class="container mt-3">
        <div class="row">
            <div class="card col" id="content-container">
                <div class="card-body"><p>假设二叉数的数据元素为字符，采用二叉链式存储结构。请编码实现二叉树ADT，其中包括创建二叉树、遍历二叉树（深度、广度）、求二叉树的深度（高度）、计算二叉树的元素个数、计算二叉树的叶子数、二叉树的格式输出等。</p>
<h2 id="question">Question</h2>
<p>假设二叉数的数据元素为字符，采用二叉链式存储结构。请编码实现二叉树ADT，其中包括创建二叉树、遍历二叉树（深度、广度）、求二叉树的深度（高度）、计算二叉树的元素个数、计算二叉树的叶子数、二叉树的格式输出等。</p>
<p>根据输入的符号，执行相应的操作。如下：</p>
<ul>
<li>C：根据完全前序序列创建二叉树，#表示空结点（空子树）；输入：二叉树的完全前序序列，创建成功输出 <code>Created success!</code></li>
<li>H：求二叉树的高度；   输出： <code>Height=高度</code></li>
<li>L：计算二叉树的叶子数；输出：<code>Leaves=叶子个数</code></li>
<li>N：计算二叉树中元素总个数；输出：<code>Nodes=结点个数</code></li>
<li>1：先序遍历二叉树；输出：<code>Preorder is:序列 .</code></li>
<li>2：中序遍历二叉树；输出：<code>Inorder is:序列 .</code></li>
<li>3：后序遍历二叉树；输出：<code>Postorder is:序列 .</code></li>
<li>4：广度遍历二叉树；输出：<code>BFSorder is:序列 .</code></li>
<li>F：查找值为x的结点个数；输出：<code>The count of x is 个数 .</code></li>
<li>P：以目录缩格文本形式输出所有节点。输出：<code>The tree is:</code>（换行，下面各行是输出的二叉树）</li>
<li>X：退出</li>
</ul>
<!--summary-->
<h2 id="example">Example</h2>
<h3 id="input">Input</h3>
<pre><code>C
ABC##DE#G##F###
H
L
N
1
2
3
4
F
A
P
X
</code></pre>
<h3 id="output">Output</h3>
<pre><code>Created success!
Height=5
Leaves=3
Nodes=7
Preorder is:A B C D E G F .
Inorder is:C B E G D F A .
Postorder is:C G E F D B A .
BFSorder is:A B C D E F G .
The count of A is 1
The tree is:
A
  B
    C
    D
      E
        G
      F
</code></pre>
<h2 id="分析">分析</h2>
<p>二叉树不多说，数据结构的基本内容。这题主要就是麻烦，要求的操作比较多，一看肯定不卡时间，递归走起。</p>
<blockquote>
<p>递归一时爽，一直递归一直爽。</p>
</blockquote>
<p>在思路清晰的情况下，递归大大降低了编码的复杂程度，于是创建递归，求叶子数递归，求高度递归，总个数递归，查找递归，目录形式输出递归，深度遍历递归，广度……咳咳，好吧，这个不用递归，要用个队列。</p>
<p>不让用<code>STL</code>，队列也只好手写。</p>
<p>我一开始写程序<code>Leaves=</code>写成了<code>Leaf=</code>，这鬼畜的错误半天没检查出来。顺便推荐个文本差异对比工具吧，这样找起来也容易：<a href="http://www.jq22.com/textDifference" title="在线文本差异对比">在线文本差异对比</a></p>
<p>算上空行都300行了，真是够麻烦的。</p>
<h2 id="answer">Answer</h2>
<pre><code class="language-c++">#include &lt;iostream&gt;

using namespace std;
template&lt;class T&gt;
class QueueNode{
public:
    T data;
    QueueNode*link=NULL;

    QueueNode(){
        ;
    }

    QueueNode(T data){
        this-&gt;data=data;
    }
};

template&lt;class T&gt;
class Queue{
private:
    QueueNode&lt;T&gt;*tail=NULL;
    QueueNode&lt;T&gt;*head=NULL;
public:
    bool isEmpty(){
        return head==NULL;
    }

    ~Queue(){
        while(head!=NULL){
            QueueNode&lt;T&gt;*p=head-&gt;link;
            delete head;
            head=p;
        }
    }

    void enQueue(T data){
        if(tail==NULL){
            head=tail=new QueueNode&lt;T&gt;(data);
            return;
        }
        tail-&gt;link=new QueueNode&lt;T&gt;(data);
        tail=tail-&gt;link;
    }

    T deQueue(){
        if(isEmpty()){
            return NULL;
        }
        T res=head-&gt;data;
        QueueNode&lt;T&gt;*tmp=head;
        head=head-&gt;link;
        delete tmp;
        if(head==NULL){
            tail=NULL;
        }
        return res;
    }
};

class Tree;

class Node{
friend class Tree;
private:
    char data='\0';
    Node*lChild=NULL;
    Node*rChild=NULL;
public:
    Node(){
        ;
    }

    Node(char data){
        this-&gt;data=data;
    }
};

class Tree{
private:
    Node*root=NULL;
    void createTree(Node*&amp;p,string&amp;str,int&amp;id){
        if(id&gt;=str.size()){
            return;
        }
        if(str.at(id)=='#'){
            id++;
            return;
        }
        p=new Node();
        p-&gt;data=str.at(id);
        id++;
        createTree(p-&gt;lChild,str,id);
        createTree(p-&gt;rChild,str,id);
    }

    size_t getHeight(Node*p){
        size_t lHeight;
        size_t rHeight;
        if(p-&gt;lChild==NULL){
            lHeight=0;
        }else{
            lHeight=getHeight(p-&gt;lChild);
        }
        if(p-&gt;rChild==NULL){
            rHeight=0;
        }else{
            rHeight=getHeight(p-&gt;rChild);
        }
        return max(lHeight,rHeight)+1;
    }

    size_t getLeaves(Node*p){
        if(p==NULL){
            return 0;
        }
        size_t res=0;
        if(p-&gt;lChild==NULL&amp;&amp;p-&gt;rChild==NULL){
            res++;
        }
        res+=getLeaves(p-&gt;lChild);
        res+=getLeaves(p-&gt;rChild);
        return res;
    }

    size_t getNodes(Node*p){
        if(p==NULL){
            return 0;
        }
        return getNodes(p-&gt;lChild)+getNodes(p-&gt;rChild)+1;
    }

    void visit1(Node*p){
        if(p==NULL){
            return;
        }
        cout&lt;&lt;p-&gt;data&lt;&lt;' ';
        visit1(p-&gt;lChild);
        visit1(p-&gt;rChild);
    }

    void visit2(Node*p){
        if(p==NULL){
            return;
        }
        visit2(p-&gt;lChild);
        cout&lt;&lt;p-&gt;data&lt;&lt;' ';
        visit2(p-&gt;rChild);
    }

    void visit3(Node*p){
        if(p==NULL){
            return;
        }
        visit3(p-&gt;lChild);
        visit3(p-&gt;rChild);
        cout&lt;&lt;p-&gt;data&lt;&lt;' ';
    }

    void delNode(Node*p){
        if(p==NULL){
            return;
        }
        delNode(p-&gt;lChild);
        delNode(p-&gt;rChild);
        delete p;
    }

    int search(char c,Node*p){
        if(p==NULL){
            return 0;
        }
        int res=p-&gt;data==c?1:0;
        return search(c,p-&gt;lChild)+search(c,p-&gt;rChild)+res;
    }

    void indexTree(Node*p,int depth){
        if(p==NULL){
            return;
        }
        for(int i=0;i&lt;depth;i++){
            cout&lt;&lt;' '&lt;&lt;' ';
        }
        cout&lt;&lt;p-&gt;data&lt;&lt;endl;
        indexTree(p-&gt;lChild,depth+1);
        indexTree(p-&gt;rChild,depth+1);
    }
public:
    Tree(string str){
        int id=0;
        createTree(root,str,id);
    }

    size_t getHeight(){
        return getHeight(root);
    }

    size_t getLeaves(){
        return getLeaves(root);
    }

    size_t getNodes(){
        return getNodes(root);
    }

    void visit1(){
        cout&lt;&lt;&quot;Preorder is:&quot;;
        visit1(root);
        cout&lt;&lt;'.'&lt;&lt;endl;
    }

    void visit2(){
        cout&lt;&lt;&quot;Inorder is:&quot;;
        visit2(root);
        cout&lt;&lt;'.'&lt;&lt;endl;
    }

    void visit3(){
        cout&lt;&lt;&quot;Postorder is:&quot;;
        visit3(root);
        cout&lt;&lt;'.'&lt;&lt;endl;
    }

    void visitBFS(){
        Queue&lt;Node*&gt;*q=new Queue&lt;Node*&gt;();
        q-&gt;enQueue(root);
        while(!q-&gt;isEmpty()){
            Node*tmp=q-&gt;deQueue();
            cout&lt;&lt;tmp-&gt;data&lt;&lt;' ';
            if(tmp-&gt;lChild!=NULL){
                q-&gt;enQueue(tmp-&gt;lChild);
            }
            if(tmp-&gt;rChild!=NULL){
                q-&gt;enQueue(tmp-&gt;rChild);
            }
        }
        delete q;
    }

    int search(char c){
        return search(c,root);
    }

    void indexTree(){
        indexTree(root,0);
    }

    ~Tree(){
        delNode(root);
    }
};

int main()
{
    char Op;
    Tree*tree;
    while(cin&gt;&gt;Op){
        string str;
        switch(Op){
        case 'C':
            cin&gt;&gt;str;
            tree=new Tree(str);
            cout&lt;&lt;&quot;Created success!&quot;&lt;&lt;endl;
            break;
        case 'H':
            cout&lt;&lt;&quot;Height=&quot;&lt;&lt;tree-&gt;getHeight()&lt;&lt;endl;
            break;
        case 'L':
            cout&lt;&lt;&quot;Leaves=&quot;&lt;&lt;tree-&gt;getLeaves()&lt;&lt;endl;
            break;
        case 'N':
            cout&lt;&lt;&quot;Nodes=&quot;&lt;&lt;tree-&gt;getNodes()&lt;&lt;endl;
            break;
        case '1':
            tree-&gt;visit1();
            break;
        case '2':
            tree-&gt;visit2();
            break;
        case '3':
            tree-&gt;visit3();
            break;
        case '4':
            cout&lt;&lt;&quot;BFSorder is:&quot;;
            tree-&gt;visitBFS();
            cout&lt;&lt;'.'&lt;&lt;endl;
            break;
        case 'F':
            char x;
            cin&gt;&gt;x;
            cout&lt;&lt;&quot;The count of &quot;&lt;&lt;x&lt;&lt;&quot; is &quot;&lt;&lt;tree-&gt;search(x)&lt;&lt;endl;
            break;
        case 'P':
            cout&lt;&lt;&quot;The tree is:&quot;&lt;&lt;endl;
            tree-&gt;indexTree();
            break;
        }
    }
    delete tree;
    return 0;
}

</code></pre>
</div>
            </div>

            <div class="card col-md-4 d-none d-md-block ms-md-3 text-center">
                <div class="sticky-top">
                    <img src="/favicon.ico" alt="avatar" class="mt-3">
                    <div class="card-body">
                        <p class="card-text">
                            归零幻想
                        </p>
                        <p class="card-text">
                            邮件：<a href="mailto:admin@ntutn.top">admin@ntutn.top</a><br>
                            Telegram: <a href="https://t.me/zerofancy">@zerofancy</a>
                        </p>
                        <blockquote id="hitokoto">正在追番《艾克斯奥特曼》。</blockquote>
                        <div style="text-align:right;" id="hitokoto_from">——站长</div>
                        <a href="/atom.xml">RSS</a>
                    </div>
                    <div>
                        <p class="card-body">友情链接</p>
                        <ul>
                            <li><a href="https://blog.semesse.me/">色魔是色魔</a></li>
                            <li><a href="http://www.xyx6.top/">XYX</a></li>
                            <li><a href="http://upccaishu.top/">菜树</a></li>
                            <li><a href="https://www.ruiovo.top/">ruiOvO</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 一言
        let xhr = new XMLHttpRequest()
        xhr.open('get', 'https://v1.hitokoto.cn/')
        xhr.send()
        xhr.onload = function () {
            let hitokotoResult = JSON.parse(xhr.responseText)
            document.getElementById("hitokoto").innerText = hitokotoResult.hitokoto
            document.getElementById("hitokoto_from").innerText = "——" + hitokotoResult.from
        }
        // 页码
        var getRandomColor = function () {
            return '#' +
                (function (color) {
                    return (color += '0123456789abcdef'[Math.floor(Math.random() * 16)]) && (color.length == 6) ? color : arguments.callee(color);
                })('');
        }
        let pageWidth = window.innerWidth,
            pageHeight = window.innerHeight
        if (typeof innerWidth != 'number') {
            if (document.compatMode == 'CSS1Compat') {//严格模式
                pageWidth = document.documentElement.clientWidth
                pageHeight = document.documentElement.clientHeight
            } else {
                pageWidth = document.body.clientWidth
                pageHeight = document.body.clientHeight
            }
        }
        document.body.style.backgroundColor = getRandomColor();
        console.log(`https://source.unsplash.com/random/${pageWidth}x${pageHeight}`)
        document.body.style.backgroundImage = `url(https://source.unsplash.com/random/${pageWidth}x${pageHeight})`;
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/bash.min.js"
        integrity="sha512-HIFqAH4BgdlJE3A1Uoyl6weoDR1WtdufmKBPWtemvTI+12lrV5dfPR5ekvJaePkq6w+zuPAek2X2hHxo/T5kag=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/basic.min.js"
        integrity="sha512-8MrrYyqbmwVrcDGR/2VenE2+IX+ELHJxM0vysdjlAQrJyXZwfKl9dXdyWASFBKzuszu8z3G7XoyjeJVM3b9MlQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/c.min.js"
        integrity="sha512-+2nEdmDIEQVBw4y3LD2BLOgAvX1+xx9kPQawjQB/HNfi4bDgSF4ywg8yIQ67ijrLLO2ruHaX9dZ25ruG3HwZSg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/cpp.min.js"
        integrity="sha512-OsjySiIaNsR3uFe7uEH6yht3is/WrIXKocWeO0YHFs25jOwHwMtzIdkUENQjblQihTUIN78bpnLKbhMxRegjLw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/gradle.min.js"
        integrity="sha512-QXYGxsyYg6bKlr3W82K2fp25xklKskdnms2qEhgrm2Uz+dnDG3RCHmVP6GQ6waI34+lirlcgsdddvmSXbBhhhQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/groovy.min.js"
        integrity="sha512-wHPb/EJ15Z5bl59kfxL/THnrtIGdrlOD0CdeBKZ1tsgcLsmx4kbiTmB0gsPZUqCzgIB3MK9tBemnrIr41WFUkQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/java.min.js"
        integrity="sha512-5j3t2T2xf236N+J+QPE2Po6Q3P/SXze0hgt2XMi1mbYzkC2VqeB/DFYICXfMhV1V+KdxDOBp9PcCAebb8kLvSw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/javascript.min.js"
        integrity="sha512-Jvh5kXa0Zu4HoSxPaZIVhCWPkD7b7gnWHVzv6jiaJwAJ18a/U6BOXludYfJYwHorpy2WFH0Df6EcFi5udu1dWA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/json.min.js"
        integrity="sha512-z3sCqG8cfRJGXv+x7QvVAx92uACSYScuJCRQzSjEhAU23TabHD8+tqafvAbKterqaB4tkiVJYCFNhQaT1+QmfQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/kotlin.min.js"
        integrity="sha512-ZEBRAqmcLuQ5A9KdZIayen2HuDMAau0Q4C3s/gwnIldFSvOxAOXJk0zhEpu30ACABYAmHKNSZDmup5OEGbx+9g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/xml.min.js"
        integrity="sha512-1UdiK7+k2GhyGJMG9hmQXQ51TP2NPjHjh65uWhCeqSXSZ4UlzDG5+/st9VWRksKWYxKeU37/qwSAuPfSkcWD6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        hljs.highlightAll()
    </script>

    <!--图片调整-->
    <script>
        //获取图片元素
        var imgs = document.getElementsByTagName("img");
        //获取div元素   
        var contentLeft = document.getElementById("content-container");
        //使用js设置图片元素宽度的变化    
        for (var i = 0; i < imgs.length; i++) {
            imgs[i].style["max-width"] = contentLeft.offsetWidth - 60 + "px";
        }
        //40是要减去padding
    </script>

    <!--HTTPS重定向-->
    <script>
        if (!(window.location.host.startsWith("127.0.0.1") || window.location.host.startsWith("localhost")) && (window.location.protocol != "https:")) {
            window.location.protocol = "https";
        }
    </script>
</body>

</html>